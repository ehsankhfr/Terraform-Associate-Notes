1. What is the primary purpose of the Terraform state file?  
A) Store environment variables  
B) Track resource dependencies and metadata  
C) Run Terraform CLI commands  
D) Store provider credentials  

2. Where is the Terraform state file stored by default?  
A) AWS S3  
B) GitHub  
C) Your local machine  
D) Terraform Cloud  

3. What is the default name of the Terraform state file?  
A) terraform.state  
B) terraform.tfvars  
C) terraform.tfstate  
D) tfstate.json  

4. Which command lists all resources currently tracked in the state file?  
A) `terraform show`  
B) `terraform state list`  
C) `terraform describe`  
D) `terraform state pull`  

5. What does the command `terraform state rm aws_instance.example` do?  
A) Destroys the resource in AWS  
B) Removes the resource from Terraform configuration  
C) Stops Terraform from managing the resource  
D) Uninstalls the provider  

6. Why is remote state locking important?  
A) It encrypts the state file  
B) It prevents multiple users from applying changes at the same time  
C) It enables Git integration  
D) It helps resolve merge conflicts  

7. Which backend supports remote state locking with DynamoDB?  
A) Azure Blob Storage  
B) Google Cloud Storage  
C) AWS S3  
D) GitLab  

8. Which command retrieves the latest remote state file?  
A) `terraform state push`  
B) `terraform refresh`  
C) `terraform state pull`  
D) `terraform get`  

9. What happens if you manually edit the `terraform.tfstate` file incorrectly?  
A) Terraform will ignore the changes  
B) Nothing changes  
C) Terraform may become out of sync with real infrastructure  
D) Terraform will automatically fix it  

10. Which command is used to migrate a resource from one address to another within the state file?  
A) `terraform state move`  
B) `terraform state rename`  
C) `terraform state mv`  
D) `terraform mv`  

11. The state file contains sensitive information like passwords or private keys.  
A) True  
B) False  

12. Terraform automatically encrypts the local state file.  
A) True  
B) False  

13. Which command uploads a local state file to a remote backend?  
A) `terraform state apply`  
B) `terraform push`  
C) `terraform state push`  
D) `terraform upload`  

14. What does `terraform state replace-provider` do?  
A) Replaces providers in your configuration  
B) Removes providers from state  
C) Updates provider references in the state  
D) Installs a new provider plugin  

15. In a team environment, why is local state storage discouraged?  
A) It is more expensive  
B) It requires special commands  
C) It prevents collaboration  
D) It supports only AWS  

---

### **Terraform Workspaces – Multiple Choice**

16. What do Terraform workspaces isolate?  
A) Provider configurations  
B) Modules  
C) State files  
D) Resource definitions  

17. What is the name of the default workspace created by Terraform?  
A) base  
B) default  
C) prod  
D) root  

18. How do you create a new workspace called `dev`?  
A) `terraform create workspace dev`  
B) `terraform workspace dev`  
C) `terraform workspace new dev`  
D) `terraform workspace init dev`  

19. You want to switch to the `prod` workspace. What command should you use?  
A) `terraform workspace select prod`  
B) `terraform select workspace prod`  
C) `terraform switch prod`  
D) `terraform use workspace prod`  

20. You’ve deployed infrastructure in the `dev` workspace. What happens if you switch to `prod` and run `terraform apply`?  
A) It modifies the dev infrastructure  
B) It reuses the same state  
C) It creates a separate set of infrastructure based on the same config  
D) It does nothing  

21. What is a good use case for workspaces?  
A) Managing multi-cloud deployments  
B) Managing multiple regions  
C) Managing dev, test, and prod environments with the same code  
D) Managing state locks  

22. Terraform workspaces automatically encrypt the state files.  
A) True  
B) False  

23. Where are remote state files stored when using workspaces with an S3 backend?  
A) In a flat structure with no folder separation  
B) Under a folder named after the workspace  
C) In DynamoDB  
D) In a Git repository  

24. If you reference `terraform.workspace` in your config, what value does it return?  
A) Path to state file  
B) Current working directory  
C) Current workspace name  
D) Default provider  

25. Can you use the same Terraform configuration for multiple workspaces?  
A) No  
B) Yes  
C) Only with modules  
D) Only if encrypted  

26. What is a limitation of using workspaces?  
A) Only one user can apply at a time  
B) They do not isolate variable values unless configured to  
C) They require enterprise edition  
D) They require separate providers  

27. Which backend feature helps prevent race conditions when using workspaces?  
A) Refresh lock  
B) File encryption  
C) State locking  
D) Output injection  

28. You should use separate workspaces when infrastructure is significantly different between environments.  
A) True  
B) False  

29. Which of the following is the correct way to access the workspace name inside your configuration?  
A) `${terraform.env}`  
B) `${workspace.name}`  
C) `${terraform.workspace}`  
D) `${var.workspace}`  

30. What happens if you delete a workspace with resources?  
A) Terraform deletes the resources  
B) Terraform merges the state with `default`  
C) Terraform only removes the state reference, not the actual resources  
D) It resets all variables  
